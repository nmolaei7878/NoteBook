if you update state based on the pervious update always do it with callback